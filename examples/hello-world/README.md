Qsubsec Example: Hello World
============================

Introduction
------------

This example shows the basic approach to creating qsubsec templates. This is about the simplest useful template. The text `Hello, World!` is copied into the text file specified by the `FILE` token value. Even for simple examples like this, the consistent logging provided by using qsubsec are useful.


Template Code
-------------

    section('hello', description='Hello, World!')
    limits(time='00:00:30', vmem='100M')
    command("echo 'Hello, World!' > {FILE}", name='say-hello', log=True, test=True)

Invocation
----------

    qsubsec -s hello.qsubsec FILE=hello.txt


Output SGE Script
-----------------

    #$ -N hello
    #$ -l h_rt=00:00:30
    #$ -l h_vmem=100M
    #$ -o ./output-hello.log
    #$ -e ./error-hello.log
    echo "[`date`]: section hello started"
    echo "[`date`]: command say-hello started"
    echo 'Hello, World!' > hello.txt || { echo "[`date`]: command say-hello failed"; exit 1; }
    echo "[`date`]: command say-hello finished"
    echo "[`date`]: section hello completed"

Result logs
-----------

Two logs are generated by this script: `error-hello.log` and `output-hello.log`. Hopefully, the error log will be empty, as no text should have been written to `stderr`.  The output log will contain the progress data for the job:

    ## WARNING!
    ## The current directory is in your home directory. Please use the high-performance
    ## cluster filesystem /nobackup. See documentation for information.
    ## WARNING!

    ## Running job XXXXXXXX.1 on host XXXXXXXXX.XXXXXX.leeds.ac.uk
    ##
    ## Resources granted:
    ##
    ## h_vmem = 100M
    ## h_rt   = 00:00:30

    [Tue Oct 13 11:31:15 BST 2015]: section hello started
    [Tue Oct 13 11:31:15 BST 2015]: command say-hello started
    [Tue Oct 13 11:31:15 BST 2015]: command say-hello finished
    [Tue Oct 13 11:31:15 BST 2015]: section hello completed

NB: All of the log lines starting with `##` were generated by the queue system, and thus will be different for different computing systems. The log provides time-stamped messages showing the section start and end, as well as start and finish mssages for each command (as long as the command was not defined with `log=False`).
